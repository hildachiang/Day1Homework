@using Day1Homework.MyEnum;
@using Day1Homework.Helper;
@using Day1Homework.ViewModel;
@model IEnumerable<AccountBookModel>
@{
    Layout = null;
}
<div class="row">
    <div class="col-md-12">
        <table class="table table-bordered table-hover">
            <tr>
                <th>#</th>
                <th>類別</th>
                <th>日期</th>
                <th>金額</th>
            </tr>
      
            @foreach (var item in Model.Select((value, i) => new { i, value }))
            {
                <tr>
                    <td>@(item.i + 1)</td>
                    <td>@item.value.ClassType</td>
                    <td>@item.value.AccountDate</td>
                    <td>@ChangeShowColor(item.value.ClassType, item.value.BillingAmount) </td>
                </tr>
            }

        </table>
    </div>
</div>
@functions{ 
    /// <summary>
    /// 依category更改顯示文字顏色
    /// </summary>
    /// <param name="category"></param>
    /// <param name="amount"></param>
    /// <returns></returns>
}
@helper ChangeShowColor(string category, double amount)
{
    if (category == CategoryEnum.Income.GetDisplayName())
    {
        <font color="blue">@string.Format("${0,12:N0}", amount)</font>
    }
    else
    {
        <font color="red">@string.Format("${0,12:N0}", amount)</font>
    }
}
